!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.eloquentFilter={})}(this,function(e){var t=function(e,t){void 0===t&&(t={}),this.data=e,this.query=""};t.prototype.where=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return this.makeAnd(),"function"==typeof e[0]?(this.query+="(",e[0](this),this.query+=")"):1===e.length?this.query+="(item."+e[0]+")":2===e.length?this.query+="(item."+e[0]+" == "+("string"==typeof e[1]?"'"+e[1]+"'":e[1])+")":3===e.length&&(this.query+="(item."+e[0]+" "+e[1]+" "+("string"==typeof e[2]?"'"+e[2]+"'":e[2])+")"),this},t.prototype.orWhere=function(){for(var e,t=[],i=arguments.length;i--;)t[i]=arguments[i];return this.query+=" || ",(e=this).where.apply(e,t)},t.prototype.whereIncludes=function(e,t,i){return void 0===i&&(i=null),this.makeAnd(),null==i?(this.query+="(item."+e+" ? item."+e+".includes('"+t+"') : false)",this):(this.query+="(item."+e+" ? item."+e+".some(element => element."+t+" === '"+i+"') : false)",this)},t.prototype.orWhereIncludes=function(e,t,i){return void 0===i&&(i=null),this.query+=" || ",this.whereIncludes(e,t,i),this},t.prototype.whereContains=function(e,t){return this.makeAnd(),this.query+="(item."+e+" ? item."+e+".toLowerCase().includes('"+t.toLowerCase()+"') : false)",this},t.prototype.orWhereContains=function(e,t){return this.query+=" || ",this.whereContains(e,t),this},t.prototype.whereIn=function(e,t){return this.makeAnd(),this.query+="(item."+e+" ? ['"+t.join("', '")+'\'].includes("" + item.'+e+") : false)",this},t.prototype.orWhereIn=function(e,t){return this.query+=" || ",this.whereIn(e,t),this},t.prototype.makeAnd=function(){this.query.slice(-1).includes(")")&&(this.query+=" && ")},t.prototype.stripEmpties=function(){this.query=this.query.replace(/&& \(\)/g,""),this.query=this.query.replace(/\(\)&&/g,""),this.query=this.query.replace(/\(\) &&/g,"")},t.prototype.get=function(){var e=this;return this.stripEmpties(),this.data.filter(function(t){return new Function("item",'"use strict";return '+e.query+";")(t)})},e.FilterBuilder=t});
//# sourceMappingURL=index.umd.js.map
